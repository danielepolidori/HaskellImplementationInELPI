\documentclass{beamer}

\usetheme{Warsaw}

\title{Implementazione in un linguaggio logico con vincoli di ordine superiore della type inference di Haskell}
\author{Daniele Polidori}
\institute{Alma Mater Studiorum - Università di Bologna\\Corso di Laurea in Informatica}
\date{III Sessione\\Anno Accademico 2018/2019}

% Imposta il template del footline (così da farci entrare il titolo intero)
\setbeamertemplate{footline}{%
  \leavevmode%
  \hbox{\begin{beamercolorbox}[wd=.5\paperwidth,ht=4.5ex,dp=2.125ex,leftskip=.3cm plus1fill,rightskip=.3cm]{author in head/foot}%
    \usebeamerfont{author in head/foot}
    \insertshortauthor
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.5\paperwidth,ht=4.5ex,dp=2.125ex,leftskip=.3cm,rightskip=.3cm plus1fil]{title in head/foot}%
    \usebeamerfont{title in head/foot}
    \parbox{.45\paperwidth}{\inserttitle}
  \end{beamercolorbox}}%
  \vskip0pt%
}

\setbeamertemplate{navigation symbols}{\tiny\insertframenumber/\inserttotalframenumber}     % Inserisce il numero di pagina al posto dei simboli di navigazione
\setbeamercolor{navigation symbols}{fg=black}   % Colora di nero i simboli di navigazione

% Cambia la dimensione del font di 'verbatim'
\makeatletter
\def\verbatim{\scriptsize\@verbatim \frenchspacing\@vobeyspaces \@xverbatim}
\makeatother


\begin{document}


{
\setbeamertemplate{footline}{}      % Elimina il footline in questa slide
\setbeamertemplate{navigation symbols}{}    % Lascia uno spazio vuoto al posto dei simboli di navigazione
\begin{frame}
 \titlepage     % Beamer's \maketitle
\end{frame}
}
%\addtocounter{framenumber}{-1}     % Non considera questa slide nel conteggio delle pagine


\begin{frame}

 \frametitle{Lavoro svolto}
 
 \textbf{Problema da risolvere}: Implementare in un linguaggio logico con vincoli di ordine superiore la type inference di Haskell.

 \vfill

 \begin{itemize}
  \item Codifica della sintassi di Haskell.
  \item Implementazione dell’algoritmo di type inference con le type class di Haskell.
 \end{itemize}
 Linguaggio di programmazione utilizzato: ELPI.

\end{frame}


\begin{frame}

 \frametitle{Finalità}

 \begin{enumerate}
  \item Dimostrare che ELPI è più espressivo di $\lambda$Prolog.
  \item Strumento di prova per testare, implementare e studiare nuove estensioni al meccanismo delle type class di Haskell.\\(Sviluppi futuri)
 \end{enumerate}

\end{frame}


\begin{frame}[fragile=singleslide]      % 'fragile' necessario per usare 'verbatim'
 
 \frametitle{Type class}

 \underline{Frammento}:
 \begin{verbatim}
 1.  type typeclass nome_classe -> tipo -> list declaration -> prop.
 2.  type istanza nome_classe -> tipo -> list implementation -> prop.
 3.
 4.  mode (istanza i i o).
 5.  istanza N (uvar _ as X) L :- !, declare_constraint (istanza N X L) [X].
 \end{verbatim}

 \vfill

 \underline{Esempio}:
 \begin{verbatim}
 1.  typeclass printable T [fun_decl print (base (arr T string))].
 2.  istanza printable int [fun_impl print (fun print_int)].

 goal>  pi x \ of x int => of (app (fun print) x) T1.
 %   T1 = string

 goal>  pi x \ of x bool => of (app (fun print) x) T2.
 %   Failure

 goal>  pi x \ of x T3 => of (app (fun print) x) T4.
 %   T3 = X0
 %   T4 = string
 %   istanza printable X0 [...]
 \end{verbatim}

\end{frame}


\begin{frame}[fragile=singleslide]      % 'fragile' necessario per usare 'verbatim'

 \frametitle{ELPI}

 \begin{itemize}
  \item Higher Order constraint Logic Programming language.
  \item Estensione con vincoli del linguaggio $\lambda$Prolog.
 \end{itemize}

 \vfill
 
 \underline{Frammento (STLC)}:
 \begin{verbatim}
  1.  kind tipo type.
  2.  type arr tipo -> tipo -> tipo.
  3.
  4.  kind term type.
  5.  type app term -> term -> term.
  6.  type lam (term -> term) -> term.
  7.
  8.  type of term -> tipo -> prop.
  9.  mode (of i o).
 10.  of (uvar _ as X) T :- !, declare_constraint (of X T) [X].
 11.  of (app X Y) B :- of X (arr A B), of Y A.
 12.  of (lam F) (arr A B) :- pi x \ of x A => of (F x) B.
 \end{verbatim}

\end{frame}


\begin{frame}[fragile=singleslide]      % 'fragile' necessario per usare 'verbatim'

 \frametitle{Istanziazione degli schemi}

 \underline{Frammento}:
 \begin{verbatim}
  1.  type for_all (tipo -> schema) -> schema.
  2.  type base tipo -> schema.
  3.
  4.  type is_instance nome_classe -> tipo -> holds.
  5.  type implies holds -> schema -> schema.
  6.  type instantiate schema -> tipo -> prop.
  7.
  8.  instantiate (base T) T.
  9.  instantiate (for_all S) O :- instantiate (S T_) O.
 10.  instantiate (implies (is_instance N T) S) O :-
 11.   istanza N T _, instantiate S O.
 \end{verbatim}

 \vfill

 \underline{Esempio}:
 \begin{verbatim}
 goal>  instantiate (for_all t \ implies (is_instance printable t)
         (base (arr t int))) T.
 %   T = arr X0 int
 %   istanza printable X0 [...]
 \end{verbatim}

\end{frame}


\begin{frame}[fragile=singleslide]      % 'fragile' necessario per usare 'verbatim'

 \frametitle{Let-in: Regola di generalizzazione}

 \underline{Frammento}:
 \begin{verbatim}
  1.  type retrieve_constraints tipo -> list prop -> prop.
  2.
  3.  retrieve_constraints X [Y|L] :-
  4.   declare_constraint (retrieve X Y) [X], !, retrieve_constraints X L.
  5.  retrieve_constraints _ [].
  6.
  7.
  8.  type retrieve tipo -> prop -> prop.
  9.
 10.  constraint istanza retrieve {
 11.   rule \ (retrieve X Y) (istanza N X L) <=> (Y = istanza N X L).
 12.   rule \ (retrieve X Y) <=> false.
 13.  }
 \end{verbatim}
 
 \vfill

 \underline{Esempio}:
 \begin{verbatim}
 goal>  of (lam x \ let_in [coppia_decl f (lam g \ app g x)] (decl_let f)) T.
 %   T = arr X0 (arr (arr X0 X1) X1)
 %   associa_schema f (for_all c1 \ base (arr (arr X0 c1) c1))
 \end{verbatim}

\end{frame}


\begin{frame}

 \frametitle{Conclusioni e sviluppi futuri}

 \textbf{Stima del lavoro svolto}:
 \begin{itemize}
  \item Tempo impiegato: 180 ore.
  \item Linee di codice prodotte: 600, scritte in linguaggio ELPI.
 \end{itemize}

 \vfill

 \textbf{Sviluppi futuri}:
 \begin{enumerate}
  \item Parser
  \item Testing
  \item Estensioni
 \end{enumerate}

\end{frame}


\begin{frame}

 \frametitle{Vi ringrazio per l'attenzione}

 Se ci sono domande\ldots

 \vfill

 \begin{flushright}
  \textbf{Presentata da}: Daniele Polidori\\
  \textbf{Relatore}: Professor Claudio Sacerdoti Coen
 \end{flushright}

\end{frame}


\begin{frame}

 \frametitle{}

 % ...

\end{frame}


\end{document}
